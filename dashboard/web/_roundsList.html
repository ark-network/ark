<template id="roundLine">
  <div class="flex justify-between">
    <p class="txid"></p>
    <p class="time"></p>
  </div>
</template>

<div class="border border-gray-300 h-full w-full p-4">
  <h2 class="text-lg font-semibold mb-4">Last rounds</h2>
  <div class="flex flex-col gap-2" id="roundsListContainer"></div>
</div>

<script>
  window.addEventListener('load', () => {
    let delta = 10 // 10 seconds round time
    let now = Math.floor(Date.now() / 1000)
    const hash = window.location.search?.slice(1)
    const container = document.querySelector('#roundsListContainer')
    const roundLine = document.querySelector('#roundLine')
    mockData.rounds.forEach(({ txid }) => {
      const clone = roundLine.content.cloneNode(true)
      if (hash && hash === txid) clone.querySelector('div').classList.add('bg-yellow-100')
      clone.querySelector('.txid').innerHTML = `<a href="/?${txid}">${prettyLongText(txid)}</a>`
      clone.querySelector('.time').innerText = prettyTime(now)
      container.appendChild(clone)
      now += delta
    })
  })
</script>
